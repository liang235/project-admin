<template>
	<div class="useFlattenTree">
		<page-header title="欢迎使用 useFlattenTree">
			<template #content>
				<p>tree 型数据扁平化</p>
			</template>
		</page-header>

		<page-main title="tree 型数据扁平化">查看控制台演示效果</page-main>
	</div>
</template>

<script setup>
const GROUP_NODES = [
	{
		GROUP_NAME: '党委宣传部',
		GROUP_CODE: '0104',
		CHILD: [
			{
				nodeName: '执行工作',
				sendUserCode: '1754678015267586048',
				xdtime: '',
				sendDeptName: '运维',
				nodeIfRunning: 2,
				doneUserName: '肖辉',
				doneUserImg: '',
				toUserId: '1821795531759202304',
				duration: 0,
				doneTDeptName: '党委宣传部',
				sendUserImg: '[{"type":"image","value":"6698d714dfce20b4269e9c72.png"}]',
				doneDeptCode: '0104',
				parallelCode: '0104',
				sendUserName: '系统管理员',
				doneTime: '2024-09-03 18:09:37',
				parallelFlag: '1-1-1',
				sendTDeptCode: '0000',
				parallelName: '党委宣传部',
				childType: 0,
				sendDeptCode: '0000',
				wfNId: '66d6dffedfceee9cdcb42ed9',
				nodeCode: 'N17',
				doneType: 1,
				doneTDeptCode: '0104',
				sendTime: '2024-09-03 18:07:58',
				doneUserCode: '1821795531759202304',
				doneDeptName: '党委宣传部',
				sendUserPost: '管理员',
				sendTDeptName: '运维',
				doneUserPost: '',
			},
		],
	},
	{
		GROUP_NAME: '运维',
		GROUP_CODE: '0000',
		CHILD: [
			{
				nodeName: '执行工作',
				sendUserCode: '1821795531759202304',
				xdtime: '',
				sendDeptName: '党委宣传部',
				nodeIfRunning: 1,
				doneUserName: '系统管理员',
				doneUserImg: '',
				toUserId: '1754678015267586048',
				duration: 0,
				doneTDeptName: '运维',
				sendUserImg: '',
				doneDeptCode: '0000',
				parallelCode: '0000',
				sendUserName: '肖辉',
				doneTime: '',
				parallelFlag: '1-1',
				sendTDeptCode: '0104',
				parallelName: '运维',
				childType: 0,
				sendDeptCode: '0104',
				wfNId: '66d6e061dfceee9cdcb42eda',
				nodeCode: 'N17',
				doneType: 0,
				doneTDeptCode: '0000',
				sendTime: '2024-09-03 18:09:37',
				doneUserCode: '1754678015267586048',
				doneDeptName: '运维',
				sendUserPost: '党委宣传部〔信访维稳办公室〕部长（主任）',
				sendTDeptName: '党委宣传部',
				doneUserPost: '',
			},
			{
				nodeName: '执行工作',
				sendUserCode: '1754678015267586048',
				xdtime: '',
				sendDeptName: '运维',
				nodeIfRunning: 2,
				doneUserName: '肖辉',
				doneUserImg: '',
				toUserId: '1821795531759202304',
				duration: 0,
				doneTDeptName: '党委宣传部',
				sendUserImg: '[{"type":"image","value":"6698d714dfce20b4269e9c72.png"}]',
				doneDeptCode: '0104',
				parallelCode: '0104',
				sendUserName: '系统管理员',
				doneTime: '2024-09-03 18:09:37',
				parallelFlag: '1-1-1',
				sendTDeptCode: '0000',
				parallelName: '党委宣传部',
				childType: 0,
				sendDeptCode: '0000',
				wfNId: '66d6dffedfceee9cdcb42ed9',
				nodeCode: 'N17',
				doneType: 1,
				doneTDeptCode: '0104',
				sendTime: '2024-09-03 18:07:58',
				doneUserCode: '1821795531759202304',
				doneDeptName: '党委宣传部',
				sendUserPost: '管理员',
				sendTDeptName: '运维',
				doneUserPost: '',
			},
		],
	},
	{
		GROUP_NAME: '办公室',
		GROUP_CODE: '0102',
		CHILD: [
			{
				nodeName: '执行工作',
				sendUserCode: '1821742134674763776',
				xdtime: '',
				sendDeptName: '集团领导',
				nodeIfRunning: 1,
				doneUserName: '王旭',
				doneUserImg: '',
				toUserId: '1821797628932173824',
				duration: 0,
				doneTDeptName: '办公室',
				sendUserImg: '',
				doneDeptCode: '0102',
				parallelCode: '0102',
				sendUserName: '贺江川',
				doneTime: '',
				parallelFlag: '1-2',
				sendTDeptCode: '0101',
				parallelName: '办公室',
				childType: 0,
				sendDeptCode: '0101',
				wfNId: '66d6dfc1dfceee9cdcb42ed8',
				nodeCode: 'N17',
				doneType: 0,
				doneTDeptCode: '0102',
				sendTime: '2024-09-03 18:06:57',
				doneUserCode: '1821797628932173824',
				doneDeptName: '办公室',
				sendUserPost: '党委书记、董事长',
				sendTDeptName: '集团领导',
				doneUserPost: '',
			},
		],
	},
	{
		GROUP_NAME: '已处理环节',
		GROUP_CODE: 'HAS_DONE_LIST',
		CHILD: [
			{
				nodeName: '执行工作',
				sendUserCode: '1821742134674763776',
				xdtime: '',
				sendDeptName: '集团领导',
				nodeIfRunning: 2,
				doneUserName: '系统管理员',
				doneUserImg: '',
				toUserId: '1754678015267586048',
				duration: 0,
				doneTDeptName: '运维',
				sendUserImg: '',
				doneDeptCode: '0000',
				parallelCode: '0000',
				sendUserName: '贺江川',
				doneTime: '2024-09-03 18:07:58',
				parallelFlag: '1-1',
				sendTDeptCode: '0101',
				parallelName: '运维',
				childType: 0,
				sendDeptCode: '0101',
				wfNId: '66d6dfc1dfceee9cdcb42ed7',
				nodeCode: 'N17',
				doneType: 1,
				doneTDeptCode: '0000',
				sendTime: '2024-09-03 18:06:57',
				doneUserCode: '1754678015267586048',
				doneDeptName: '运维',
				sendUserPost: '党委书记、董事长',
				sendTDeptName: '集团领导',
				doneUserPost: '',
			},
			{
				nodeName: '执行工作',
				sendUserCode: '1821742134674763776',
				xdtime: '',
				sendDeptName: '集团领导',
				nodeIfRunning: 1,
				doneUserName: '王旭',
				doneUserImg: '',
				toUserId: '1821797628932173824',
				duration: 0,
				doneTDeptName: '办公室',
				sendUserImg: '',
				doneDeptCode: '0102',
				parallelCode: '0102',
				sendUserName: '贺江川',
				doneTime: '',
				parallelFlag: '1-2',
				sendTDeptCode: '0101',
				parallelName: '办公室',
				childType: 0,
				sendDeptCode: '0101',
				wfNId: '66d6dfc1dfceee9cdcb42ed8',
				nodeCode: 'N17',
				doneType: 0,
				doneTDeptCode: '0102',
				sendTime: '2024-09-03 18:06:57',
				doneUserCode: '1821797628932173824',
				doneDeptName: '办公室',
				sendUserPost: '党委书记、董事长',
				sendTDeptName: '集团领导',
				doneUserPost: '',
			},
			{
				nodeName: '执行工作',
				sendUserCode: '1821805647246045184',
				xdtime: '',
				sendDeptName: '审计部',
				nodeIfRunning: 2,
				doneUserName: '贺江川',
				doneUserImg: '',
				toUserId: '1821742134674763776',
				duration: 0,
				doneTDeptName: '集团领导',
				sendUserImg: '',
				doneDeptCode: '0101',
				parallelCode: '',
				sendUserName: '李航',
				doneTime: '2024-09-03 18:06:57',
				parallelFlag: '',
				sendTDeptCode: '0114',
				parallelName: '',
				childType: 0,
				sendDeptCode: '0114',
				wfNId: '66d6df9adfceee9cdcb42ed2',
				nodeCode: 'N17',
				doneType: 1,
				doneTDeptCode: '0101',
				sendTime: '2024-09-03 18:06:18',
				doneUserCode: '1821742134674763776',
				doneDeptName: '集团领导',
				sendUserPost: '员工',
				sendTDeptName: '审计部',
				doneUserPost: '',
			},
		],
	},
]

const arr = useFlattenTree(GROUP_NODES, 'CHILD')
console.log(arr)
</script>

<style lang="scss" scoped></style>
