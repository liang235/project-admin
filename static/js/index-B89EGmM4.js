import{_ as F}from"./index-BqNn1QRp.js";import{d as q,r as l,c as $,a as b,a7 as O,e as m,o as a,P,j,b as g,w as u,f as S,F as x,k as V,g as d,y as D,t as H,i as f,D as A,N as E}from"./index-H_c7H9_6.js";import L from"./search-C8nc1flk.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-m1hp8roE.js";const I=["src","width","height"],G=q({name:"TableFull"}),J=Object.assign(G,{props:{data:{type:Array,default:()=>[]},header:{type:Array,default:()=>[]},config:{type:Object,default:()=>{}}},emits:["delRow","pageChange","sortHeader"],setup(n,{expose:k,emit:_}){const r=n,y=_,o=l({pageNum:1,pageSize:10}),s=$(()=>!!r.config.isBorder),h=$(()=>r.header.filter(i=>i.isCheck)),v=l([]),w=i=>{v.value=i},C=i=>{y("delRow",i)};return k({pageReset:()=>{o.value.pageNum=1,o.value.pageSize=10,y("pageChange",o.value)}}),(i,c)=>{const p=b("el-table-column"),B=b("el-button"),T=b("el-popconfirm"),W=b("el-table"),z=O("loading");return a(),m(x,null,[P((a(),g(W,{data:n.data,border:d(s),"row-key":"id",height:"100%",onSelectionChange:w},{default:u(()=>[n.config.isSelection?(a(),g(p,{key:0,type:"selection","reserve-selection":!0,width:"50",align:"center"})):S("",!0),n.config.isSerialNo?(a(),g(p,{key:1,type:"index",label:"序号",width:"60",align:"center"})):S("",!0),(a(!0),m(x,null,V(d(h),(t,N)=>(a(),g(p,{key:N,"show-overflow-tooltip":"",prop:t.key,width:t.colWidth,label:t.title,align:"center"},{default:u(R=>[t.type==="image"?(a(),m("img",{key:0,src:R.row[t.key],width:t.width,height:t.height},null,8,I)):(a(),m(x,{key:1},[D(H(R.row[t.key]),1)],64))]),_:2},1032,["prop","width","label"]))),128)),n.config.isOperate?(a(),g(p,{key:2,label:"操作",width:"100",align:"center"},{default:u(t=>[f(T,{title:"确定删除吗？",onConfirm:N=>C(t.row)},{reference:u(()=>[f(B,{text:"",type:"primary"},{default:u(()=>c[0]||(c[0]=[D("删除")])),_:1})]),_:2},1032,["onConfirm"])]),_:1})):S("",!0)]),_:1},8,["data","border"])),[[z,n.config.loading]]),c[1]||(c[1]=j("div",null,"123",-1))],64)}}}),K={class:"pages-table-full-container"},Q=q({name:"PagesTableFull"}),U=Object.assign(Q,{setup(n){const k=l([{label:"采样点名称",prop:"name",placeholder:"请输入应检尽检核酸采样点名称",required:!0,type:"input"},{label:"详细地址",prop:"address",placeholder:"请输入详细地址",required:!1,type:"input"},{label:"联系电话",prop:"phone",placeholder:"请输入采样点联系电话",required:!1,type:"input"},{label:"开放时间",prop:"time",placeholder:"请选择",required:!1,type:"date"},{label:"支持24小时",prop:"isSupport",placeholder:"请选择",required:!1,type:"select",options:[{label:"是",value:1},{label:"否",value:0}]},{label:"图片描述",prop:"image",placeholder:"请输入图片描述",required:!1,type:"input"},{label:"核酸机构",prop:"mechanism",placeholder:"请输入核酸机构",required:!1,type:"input"}]),_=l(),r=l([]),y=l([{key:"name",colWidth:"",title:"应检尽检核酸采样点名称",type:"text",isCheck:!0},{key:"address",colWidth:"",title:"详细地址",type:"text",isCheck:!0},{key:"phone",colWidth:"",title:"采样点联系电话",type:"text",isCheck:!0},{key:"time",colWidth:"",title:"开放时间",type:"text",isCheck:!0},{key:"isSupport",colWidth:"",title:"是否支持24小时核酸检测",type:"text",isCheck:!0},{key:"image",colWidth:"",width:"70",height:"40",title:"图片描述",type:"image",isCheck:!0}]),o=l({total:0,loading:!0,isBorder:!0,isSerialNo:!0,isSelection:!0,isOperate:!0}),s=l({pageNum:1,pageSize:10}),h=()=>{o.value.loading=!0,r.value=[];for(let e=0;e<20;e++)r.value.push({id:`123456789${e+1}`,name:`莲塘别墅广场${e+1}`,address:`中沧公寓中庭榕树下${e+1}`,phone:`0592-6081259${e+1}`,time:"6:00 ~ 24:00",isSupport:`${e%2===0?"是":"否"}`,image:"https://img2.baidu.com/it/u=417454395,2713356475&fm=253&fmt=auto?w=200&h=200"});o.value.total=r.value.length,setTimeout(()=>{o.value.loading=!1},500)},v=e=>{s.value={...s.value,...e},_.value.pageReset()},w=e=>{E.success(`删除${e.name}成功！`),h()},C=e=>{s.value.pageNum=e.pageNum,s.value.pageSize=e.pageSize,h()};return A(()=>{h()}),(e,i)=>{const c=J,p=F;return a(),m("div",K,[f(p,{height:"calc(100% - 40px)"},{default:u(()=>[f(L,{search:d(k),onSearch:v},null,8,["search"]),f(c,{ref_key:"tableRef",ref:_,data:d(r),header:d(y),config:d(o),onDelRow:w,onPageChange:C},null,8,["data","header","config"])]),_:1})])}}}),ae=M(U,[["__scopeId","data-v-990a53c1"]]);export{ae as default};
