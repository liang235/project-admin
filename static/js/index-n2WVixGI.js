import{d as P,e as y,o,X as C,ac as k,u as U,s as I,i as n,b as i,f as B,w as t,g as p,a as O,a7 as w,j as a,t as L,y as d,P as r,ad as M,N as x}from"./index-H_c7H9_6.js";import{_ as X}from"./index-m1hp8roE.js";import{_ as q}from"./index-BqNn1QRp.js";import{_ as z}from"./index-ncGf53PB.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const G={class:"authAll"},H=P({name:"AuthAll"}),J=Object.assign(H,{props:{value:Array},setup(v){const u=v,m=()=>k().authAll(u.value);return(_,$)=>(o(),y("div",G,[m()?C(_.$slots,"default",{key:0}):C(_.$slots,"no-auth",{key:1})]))}}),K={class:"auth"},Q=P({name:"Auth"}),R=Object.assign(Q,{props:{value:String|Array},setup(v){const u=v,m=()=>k().auth(u.value);return(_,$)=>(o(),y("div",K,[m()?C(_.$slots,"default",{key:0}):C(_.$slots,"no-auth",{key:1})]))}}),W={class:"permission"},Y={key:0,class:"mb-20"},Z={key:1},h={class:"flex"},ee={class:"flex"},te={class:"flex"},ne={class:"flex"},le={class:"flex"},se={class:"flex"},de={class:"flex"},oe=P({name:"PermissionPage"}),ae=Object.assign(oe,{setup(v){const u=U(),m=I(),_=S=>{M.service({lock:!0,text:"帐号切换中",background:"rgba(0, 0, 0, 0.7)"}),m.login({account:S,password:"123456"}).then(()=>{setTimeout(()=>{window.location.reload()},1e3)})},$=()=>{k().auth("btn.add")?x.success("恭喜，您有权限！"):x.error("抱歉，您没有权限！")},j=()=>{k().auth(["btn.add","btn.edit","btn.delete","btn.link"])?x.success("恭喜，您有权限！"):x.error("抱歉，您没有权限！")},N=()=>{k().authAll(["btn.add","btn.edit","btn.delete","btn.link"])?x.success("恭喜，您有权限！"):x.error("抱歉，您没有权限！")};return(S,e)=>{const D=z,V=O("el-radio-button"),E=O("el-radio-group"),c=q,l=X,s=O("el-button"),b=R,g=J,f=w("auth"),A=w("auth-all");return o(),y("div",W,[n(D,{title:"权限验证"}),n(c,{title:"切换用户演示，控制不同用户显示不同页面、按钮权限"},{default:t(()=>[!p(u).app.enablePermission||p(u).app.routeBaseOn!=="backend"?(o(),y("div",Y," 请到 src/settings.custom.js 里打开 app.enablePermission 权限功能和 app.routeBaseOn === 'backend' 路由数据来源，再进入该页面查看演示 ")):(o(),y("div",Z,[e[1]||(e[1]=a("h3",null,"切换帐号 - 注意左侧菜单列表显示效果",-1)),n(E,{modelValue:p(m).account,"onUpdate:modelValue":e[0]||(e[0]=T=>p(m).account=T),class:"my-10",onChange:_},{default:t(()=>[n(V,{label:"admin"}),n(V,{label:"test"})]),_:1},8,["modelValue"]),a("h3",null,"当前组件权限："+L(p(m).permissions),1)]))]),_:1}),p(u).app.enablePermission&&p(u).app.routeBaseOn==="backend"?(o(),i(c,{key:0,title:"演示1：组件方式"},{default:t(()=>[e[14]||(e[14]=a("div",{class:"my-10"},'单个权限验证 :value="xxx"',-1)),a("div",h,[n(b,{value:"btn.add"},{default:t(()=>[n(s,{type:"primary"},{icon:t(()=>[n(l,{name:"ele-document-add"})]),default:t(()=>[e[2]||(e[2]=d(" 新增 "))]),_:1})]),_:1}),n(b,{value:"btn.edit"},{default:t(()=>[n(s,{type:"success"},{icon:t(()=>[n(l,{name:"ele-edit"})]),default:t(()=>[e[3]||(e[3]=d(" 编辑 "))]),_:1})]),_:1}),n(b,{value:"btn.delete"},{default:t(()=>[n(s,{type:"danger"},{icon:t(()=>[n(l,{name:"ele-delete"})]),default:t(()=>[e[4]||(e[4]=d(" 删除 "))]),_:1})]),_:1}),n(b,{value:"btn.link"},{default:t(()=>[n(s,{type:"info"},{icon:t(()=>[n(l,{name:"ele-link"})]),default:t(()=>[e[5]||(e[5]=d(" 跳转 "))]),_:1})]),_:1})]),e[15]||(e[15]=a("div",{class:"my-10"},'多个权限验证，满足一个则显示 :value="[xxx,xxx]"',-1)),a("div",ee,[n(b,{value:["btn.add","btn.edit","btn.delete","btn.link"]},{default:t(()=>[n(s,{type:"primary"},{icon:t(()=>[n(l,{name:"ele-document-add"})]),default:t(()=>[e[6]||(e[6]=d(" 新增 "))]),_:1})]),_:1}),n(b,{value:["btn.add","btn.edit","btn.delete","btn.link"]},{default:t(()=>[n(s,{type:"success"},{icon:t(()=>[n(l,{name:"ele-edit"})]),default:t(()=>[e[7]||(e[7]=d(" 编辑 "))]),_:1})]),_:1}),n(b,{value:["btn.delete","btn.link"]},{default:t(()=>[n(s,{type:"danger"},{icon:t(()=>[n(l,{name:"ele-delete"})]),default:t(()=>[e[8]||(e[8]=d(" 删除 "))]),_:1})]),_:1}),n(b,{value:["btn.delete","btn.link"]},{default:t(()=>[n(s,{type:"info"},{icon:t(()=>[n(l,{name:"ele-link"})]),default:t(()=>[e[9]||(e[9]=d(" 跳转 "))]),_:1})]),_:1})]),e[16]||(e[16]=a("div",{class:"my-10"},'多个权限验证，全部满足则显示 :value="[xxx,xxx]"',-1)),a("div",te,[n(g,{value:["btn.add","btn.edit","btn.delete","btn.link"]},{default:t(()=>[n(s,{type:"primary"},{icon:t(()=>[n(l,{name:"ele-document-add"})]),default:t(()=>[e[10]||(e[10]=d(" 新增 "))]),_:1})]),_:1}),n(g,{value:["btn.add","btn.edit","btn.delete","btn.link"]},{default:t(()=>[n(s,{type:"success"},{icon:t(()=>[n(l,{name:"ele-edit"})]),default:t(()=>[e[11]||(e[11]=d(" 编辑 "))]),_:1})]),_:1}),n(g,{value:["btn.add","btn.edit","btn.delete","btn.link"]},{default:t(()=>[n(s,{type:"danger"},{icon:t(()=>[n(l,{name:"ele-delete"})]),default:t(()=>[e[12]||(e[12]=d(" 删除 "))]),_:1})]),_:1}),n(g,{value:["btn.add","btn.edit","btn.delete","btn.link"]},{default:t(()=>[n(s,{type:"info"},{icon:t(()=>[n(l,{name:"ele-link"})]),default:t(()=>[e[13]||(e[13]=d(" 跳转 "))]),_:1})]),_:1})])]),_:1})):B("",!0),p(u).app.enablePermission&&p(u).app.routeBaseOn==="backend"?(o(),i(c,{key:1,title:"演示2：指令方式（页面初始化时执行）"},{default:t(()=>[e[29]||(e[29]=a("div",{class:"my-10"},'单个权限验证 v-auth="xxx"',-1)),a("div",ne,[r((o(),i(s,{type:"primary"},{icon:t(()=>[n(l,{name:"ele-document-add"})]),default:t(()=>[e[17]||(e[17]=d(" 新增 "))]),_:1})),[[f,"btn.add"]]),r((o(),i(s,{type:"success"},{icon:t(()=>[n(l,{name:"ele-edit"})]),default:t(()=>[e[18]||(e[18]=d(" 编辑 "))]),_:1})),[[f,"btn.edit"]]),r((o(),i(s,{type:"danger"},{icon:t(()=>[n(l,{name:"ele-delete"})]),default:t(()=>[e[19]||(e[19]=d(" 删除 "))]),_:1})),[[f,"btn.delete"]]),r((o(),i(s,{type:"info"},{icon:t(()=>[n(l,{name:"ele-link"})]),default:t(()=>[e[20]||(e[20]=d(" 跳转 "))]),_:1})),[[f,"btn.link"]])]),e[30]||(e[30]=a("div",{class:"my-10"},'多个权限验证，满足一个则显示 v-auth="[xxx, xxx]"',-1)),a("div",le,[r((o(),i(s,{type:"primary"},{icon:t(()=>[n(l,{name:"ele-document-add"})]),default:t(()=>[e[21]||(e[21]=d(" 新增 "))]),_:1})),[[f,["btn.add","btn.edit","btn.delete","btn.link"]]]),r((o(),i(s,{type:"success"},{icon:t(()=>[n(l,{name:"ele-edit"})]),default:t(()=>[e[22]||(e[22]=d(" 编辑 "))]),_:1})),[[f,["btn.add","btn.edit","btn.delete","btn.link"]]]),r((o(),i(s,{type:"danger"},{icon:t(()=>[n(l,{name:"ele-delete"})]),default:t(()=>[e[23]||(e[23]=d(" 删除 "))]),_:1})),[[f,["btn.delete","btn.link"]]]),r((o(),i(s,{type:"info"},{icon:t(()=>[n(l,{name:"ele-link"})]),default:t(()=>[e[24]||(e[24]=d(" 跳转 "))]),_:1})),[[f,["btn.delete","btn.link"]]])]),e[31]||(e[31]=a("div",{class:"my-10"},'多个权限验证，全部满足则显示 v-auth-all="[xxx, xxx]"',-1)),a("div",se,[r((o(),i(s,{type:"primary"},{icon:t(()=>[n(l,{name:"ele-document-add"})]),default:t(()=>[e[25]||(e[25]=d(" 新增 "))]),_:1})),[[A,["btn.add","btn.edit","btn.delete","btn.link"]]]),r((o(),i(s,{type:"success"},{icon:t(()=>[n(l,{name:"ele-edit"})]),default:t(()=>[e[26]||(e[26]=d(" 编辑 "))]),_:1})),[[A,["btn.add","btn.edit","btn.delete","btn.link"]]]),r((o(),i(s,{type:"danger"},{icon:t(()=>[n(l,{name:"ele-delete"})]),default:t(()=>[e[27]||(e[27]=d(" 删除 "))]),_:1})),[[A,["btn.delete","btn.link"]]]),r((o(),i(s,{type:"info"},{icon:t(()=>[n(l,{name:"ele-link"})]),default:t(()=>[e[28]||(e[28]=d(" 跳转 "))]),_:1})),[[A,["btn.delete","btn.link"]]])])]),_:1})):B("",!0),p(u).app.enablePermission&&p(u).app.routeBaseOn==="backend"?(o(),i(c,{key:2,title:"演示3：函数方式（点击按钮查看有无权限，用于判断）"},{default:t(()=>[e[35]||(e[35]=a("div",{class:"my-10"},"auth('xxx')、auth(['xxx','xxx'])、authAll(['xxx','xxx'])：",-1)),a("div",de,[n(s,{type:"primary",onClick:$},{icon:t(()=>[n(l,{name:"ele-document-add"})]),default:t(()=>[e[32]||(e[32]=d(" 新增 "))]),_:1}),n(s,{type:"success",onClick:j},{icon:t(()=>[n(l,{name:"ele-edit"})]),default:t(()=>[e[33]||(e[33]=d(" 编辑 "))]),_:1}),n(s,{type:"danger",onClick:N},{icon:t(()=>[n(l,{name:"ele-delete"})]),default:t(()=>[e[34]||(e[34]=d(" 删除 "))]),_:1})])]),_:1})):B("",!0)])}}}),be=F(ae,[["__scopeId","data-v-287edb34"]]);export{be as default};
