import{s as q}from"./system-Q-CifK5W.js";import{d as F,r as p,a as u,b as w,o as c,w as l,i as e,g as o,e as j,F as H,k as A,y as v,j as E,t as J,J as O}from"./index-H_c7H9_6.js";const T=F({name:"SystemUserAdd"}),I=Object.assign(T,{props:{title:{type:String,default:()=>""},width:{type:Number,default:()=>769},maxHeight:{type:Number,default:()=>450}},setup(f,{expose:y}){const m=p(!1),g=p(),s=p({status:!0}),k=p({name:[{required:!0,trigger:"blur",message:"请输入账户名称"}],nickname:[{required:!0,trigger:"blur",message:"请输入用户名称"}],password:[{required:!0,trigger:"blur",message:"请输入用户密码"}]}),b=p([]),U=()=>{q().then(i=>{b.value=i.data})},h=()=>{m.value=!0,U()},S=()=>{m.value=!1,g.value.resetFields()},C=()=>{g.value.validate(i=>{if(i)console.log(s.value);else return!1})};return y({openDialog:h}),(i,t)=>{const r=u("el-input"),d=u("el-form-item"),n=u("el-col"),_=u("el-option"),x=u("el-select"),N=u("el-switch"),R=u("el-row"),B=u("el-form"),D=u("el-scrollbar"),V=u("el-button"),L=u("el-dialog");return c(),w(L,{modelValue:o(m),"onUpdate:modelValue":t[9]||(t[9]=a=>O(m)?m.value=a:null),width:f.width,"close-on-click-modal":!1,"destroy-on-close":!0,draggable:!0},{header:l(()=>[E("div",null,J(f.title),1)]),footer:l(()=>[e(V,{type:"primary",onClick:C},{default:l(()=>t[10]||(t[10]=[v("确认")])),_:1}),e(V,{onClick:S},{default:l(()=>t[11]||(t[11]=[v("取消")])),_:1})]),default:l(()=>[e(D,{"max-height":f.maxHeight},{default:l(()=>[e(B,{ref_key:"formRef",ref:g,model:o(s),rules:o(k),"label-width":"90px"},{default:l(()=>[e(R,{gutter:20},{default:l(()=>[e(n,{xs:24,sm:12,md:12,lg:12,xl:12},{default:l(()=>[e(d,{prop:"name",label:"账户名称"},{default:l(()=>[e(r,{modelValue:o(s).name,"onUpdate:modelValue":t[0]||(t[0]=a=>o(s).name=a),placeholder:"请输入账号名称",clearable:!0},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12},{default:l(()=>[e(d,{prop:"nickname",label:"用户昵称"},{default:l(()=>[e(r,{modelValue:o(s).nickname,"onUpdate:modelValue":t[1]||(t[1]=a=>o(s).nickname=a),placeholder:"请输入用户昵称",clearable:!0},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12},{default:l(()=>[e(d,{prop:"password",label:"账户密码"},{default:l(()=>[e(r,{modelValue:o(s).password,"onUpdate:modelValue":t[2]||(t[2]=a=>o(s).password=a),placeholder:"请输入账户密码",type:"password",clearable:!0},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12},{default:l(()=>[e(d,{prop:"sign",label:"关联角色"},{default:l(()=>[e(x,{modelValue:o(s).sign,"onUpdate:modelValue":t[3]||(t[3]=a=>o(s).sign=a),placeholder:"请选择",clearable:!0,multiple:!0,"collapse-tags":!0,"collapse-tags-tooltip":!0},{default:l(()=>[(c(!0),j(H,null,A(o(b),a=>(c(),w(_,{key:a.sign,label:a.name,value:a.sign},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12},{default:l(()=>[e(d,{prop:"sex",label:"性别"},{default:l(()=>[e(x,{modelValue:o(s).sex,"onUpdate:modelValue":t[4]||(t[4]=a=>o(s).sex=a),placeholder:"请选择",clearable:!0},{default:l(()=>[e(_,{label:"男",value:"0"}),e(_,{label:"女",value:"1"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12},{default:l(()=>[e(d,{prop:"status",label:"用户状态"},{default:l(()=>[e(N,{modelValue:o(s).status,"onUpdate:modelValue":t[5]||(t[5]=a=>o(s).status=a),"inline-prompt":"","active-text":"启","inactive-text":"禁"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12},{default:l(()=>[e(d,{prop:"phone",label:"手机号"},{default:l(()=>[e(r,{modelValue:o(s).phone,"onUpdate:modelValue":t[6]||(t[6]=a=>o(s).phone=a),placeholder:"请输入手机号",clearable:!0},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12},{default:l(()=>[e(d,{prop:"email",label:"邮箱"},{default:l(()=>[e(r,{modelValue:o(s).email,"onUpdate:modelValue":t[7]||(t[7]=a=>o(s).email=a),placeholder:"请输入邮箱",clearable:!0},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:24,md:24,lg:24,xl:24},{default:l(()=>[e(d,{prop:"describe",label:"用户描述"},{default:l(()=>[e(r,{modelValue:o(s).describe,"onUpdate:modelValue":t[8]||(t[8]=a=>o(s).describe=a),type:"textarea",placeholder:"请输入用户描述",maxlength:"150"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["max-height"])]),_:1},8,["modelValue","width"])}}});export{I as default};
