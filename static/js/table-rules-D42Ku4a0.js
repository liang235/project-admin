import{_ as D}from"./index-BqNn1QRp.js";import{_ as A}from"./index-m1hp8roE.js";import{d as E,r as w,b as p,w as o,a,o as t,i as u,j as h,g as s,e as _,F as V,k as g,f as c,t as L,y as k,N as m}from"./index-H_c7H9_6.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const M={key:0,class:"text-red-600"},O={class:"pl-1"},P={class:"flex-center mt-5"},S=E({name:"PagesFormTableRules"}),Q=Object.assign(S,{setup(G){const f=w(),d=w({data:[],header:[{prop:"a1",width:"",label:"一级分类",isRequired:!0,type:"select"},{prop:"a2",width:"",label:"二级分类",isRequired:!0,type:"select"},{prop:"a3",width:"",label:"三级分类",isRequired:!0,type:"select"},{prop:"a4",width:"",label:"四级分类",isRequired:!0,type:"date"},{prop:"a5",width:"",label:"五级分类",isRequired:!0,type:"input"},{prop:"a6",width:"",label:"六级分类",isTooltip:!0,type:"dialog"},{prop:"a7",width:"",label:"演示级分类",type:"input"},{prop:"a8",width:"",label:"颜色是分类",type:"input"}],option:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"}]}),v=i=>{if(d.value.data.length<=0)return m.warning("请先点击增加一行");i&&i.validate(r=>{if(!r)return m.warning("表格项必填未填");m.success("全部验证通过")})},R=()=>{d.value.data.push({a1:"",a2:"",a3:"",a4:"",a5:"",a6:"",a7:"",a8:""})};return(i,r)=>{const q=A,U=a("el-tooltip"),x=a("el-option"),C=a("el-select"),$=a("el-date-picker"),b=a("el-input"),N=a("el-form-item"),B=a("el-table-column"),T=a("el-table"),F=a("el-form"),y=a("el-button"),j=D;return t(),p(j,{tilte:"表单表格验证"},{default:o(()=>[u(F,{ref_key:"tableRulesRef",ref:f,model:s(d)},{default:o(()=>[u(T,{data:s(d).data,border:!0},{default:o(()=>[(t(!0),_(V,null,g(s(d).header,(e,z)=>(t(),p(B,{key:z,"show-overflow-tooltip":!0,prop:e.prop,width:e.width,label:e.label},{header:o(()=>[e.isRequired?(t(),_("span",M,"*")):c("",!0),h("span",O,L(e.label),1),e.isTooltip?(t(),p(U,{key:1,effect:"dark",content:"这是tooltip",placement:"top"},{default:o(()=>[u(q,{name:"permissions"})]),_:1})):c("",!0)]),default:o(n=>[u(N,{prop:`data.${n.$index}.${e.prop}`,rules:[{required:e.isRequired,message:"不能为空",trigger:`${e.type}`=="input"?"blur":"change"}]},{default:o(()=>[e.type==="select"?(t(),p(C,{key:0,modelValue:n.row[e.prop],"onUpdate:modelValue":l=>n.row[e.prop]=l,placeholder:"请选择"},{default:o(()=>[(t(!0),_(V,null,g(s(d).option,l=>(t(),p(x,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):e.type==="date"?(t(),p($,{key:1,modelValue:n.row[e.prop],"onUpdate:modelValue":l=>n.row[e.prop]=l,type:"date",placeholder:"选择日期",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])):e.type==="input"?(t(),p(b,{key:2,modelValue:n.row[e.prop],"onUpdate:modelValue":l=>n.row[e.prop]=l,placeholder:"请输入内容"},null,8,["modelValue","onUpdate:modelValue"])):e.type==="dialog"?(t(),p(b,{key:3,modelValue:n.row[e.prop],"onUpdate:modelValue":l=>n.row[e.prop]=l,readonly:"",placeholder:"请输入内容"},null,8,["modelValue","onUpdate:modelValue"])):c("",!0)]),_:2},1032,["prop","rules"])]),_:2},1032,["prop","width","label"]))),128))]),_:1},8,["data"])]),_:1},8,["model"]),h("div",P,[u(y,{size:"default",type:"success",onClick:r[0]||(r[0]=e=>v(s(f)))},{default:o(()=>r[1]||(r[1]=[k("表格验证")])),_:1}),u(y,{size:"default",type:"primary",onClick:R},{default:o(()=>r[2]||(r[2]=[k("新增一行")])),_:1})])]),_:1})}}});export{Q as default};
