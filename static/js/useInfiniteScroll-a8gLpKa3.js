import{_ as w}from"./index-BqNn1QRp.js";import{_ as x}from"./index-m1hp8roE.js";import{_ as I}from"./index-ncGf53PB.js";import{r as t,at as k,e as l,i as o,w as i,a as d,o as _,j as S,g as f,y as $,au as B}from"./index-H_c7H9_6.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={key:0,class:"loading"},V={key:1,class:"loading"},j={__name:"useInfiniteScroll",setup(C){const c=t(null),r=t(1),p=t(10),n=t([]),a=t(!1),u=t(!0),v=async()=>{if(a.value||!u.value)return;a.value=!0,await new Promise(e=>{setTimeout(e,1e3)});const{data:s}=await B(`http://jsonplaceholder.typicode.com/posts?_page=${r.value}&_limit=${p.value}`);s.length<p.value&&(u.value=!1),n.value=[...n.value,...s],r.value++,a.value=!1};return k(c,async()=>{await v()},{distance:15}),(s,e)=>{const g=I,m=d("el-table-column"),b=d("el-table"),h=x,y=w;return _(),l("div",{ref_key:"listRef",ref:c,class:"useInfiniteScroll"},[o(g,{title:"欢迎使用 useInfiniteScroll"},{content:i(()=>e[0]||(e[0]=[S("p",null,"元素无限滚动",-1)])),_:1}),o(y,{title:"无限滚动"},{default:i(()=>[o(b,{data:f(n),border:""},{default:i(()=>[o(m,{prop:"id",label:"id"}),o(m,{prop:"title",label:"title"})]),_:1},8,["data"]),f(a)?(_(),l("div",N,[o(h,{name:"ele-loading"}),e[1]||(e[1]=$("请求更多数据操作中"))])):(_(),l("div",V,"暂无更多数据"))]),_:1})],512)}}},q=L(j,[["__scopeId","data-v-e562b25a"]]);export{q as default};
