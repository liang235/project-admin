import{_ as M}from"./cropper-D_zKu0cL.js";import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{d as R,r as p,b as O,w as t,i as n,j as o,g as u,a as d,y as b,t as z,J as V,o as h,e as j}from"./index-H_c7H9_6.js";import{_ as $}from"./index-BqNn1QRp.js";import{_ as W}from"./index-ncGf53PB.js";import{i as I}from"./E0199E25-DffuUc5D.js";import"./index-m1hp8roE.js";const U={class:"cropper-wrap"},H={class:"dialog-footer"},L=R({name:"Cropper"}),E=Object.assign(L,{props:{title:{type:String,default:()=>"图片裁剪"},width:{type:Number,default:()=>677},maxHeight:{type:Number,default:()=>450},src:{type:String,default:()=>""},autoCrop:{type:Boolean,default:!0},viewMode:{type:Number,default:()=>1},dragMode:{type:String,default:()=>"crop"},initialAspectRatio:{type:Number,default:()=>1},aspectRatio:{type:Number,default:()=>1},preview:{type:String,default:()=>".preview"},background:{type:Boolean,default:!0},autoCropArea:{type:Number,default:()=>.6},zoomOnWheel:{type:Boolean,default:!0}},emits:["onSubmit"],setup(e,{expose:i,emit:c}){const m=c,s=p(!1),l=p(),a=p(""),f=()=>{a.value=l.value.getCroppedCanvas().toDataURL("image/jpeg")},v=()=>{},_=()=>{},g=()=>{},k=()=>{},x=()=>{a.value=l.value.getCroppedCanvas().toDataURL("image/jpeg")},S=()=>{s.value=!0},C=()=>{s.value=!1},N=()=>{m("onSubmit",a.value),C()};return i({openDialog:S}),(P,r)=>{const A=d("el-scrollbar"),w=d("el-button"),B=d("el-dialog");return h(),O(B,{modelValue:u(s),"onUpdate:modelValue":r[0]||(r[0]=D=>V(s)?s.value=D:null),width:e.width,"close-on-click-modal":!1,"destroy-on-close":!0,draggable:!0},{header:t(()=>[o("div",null,z(e.title),1)]),footer:t(()=>[o("div",H,[n(w,{round:"",type:"primary",onClick:N},{default:t(()=>r[2]||(r[2]=[b("确认")])),_:1}),n(w,{round:"",onClick:C},{default:t(()=>r[3]||(r[3]=[b("取消")])),_:1})])]),default:t(()=>[n(A,{"max-height":e.maxHeight},{default:t(()=>[o("div",U,[n(u(M),{ref_key:"cropperRef",ref:l,class:"cropperRef",src:e.src,autoCrop:e.autoCrop,viewMode:e.viewMode,dragMode:e.dragMode,initialAspectRatio:e.initialAspectRatio,aspectRatio:e.aspectRatio,preview:e.preview,background:e.background,autoCropArea:e.autoCropArea,zoomOnWheel:e.zoomOnWheel,onReady:f,onZoom:v,onCropmove:_,onCropstart:g,onCropend:k,onCrop:x},null,8,["src","autoCrop","viewMode","dragMode","initialAspectRatio","aspectRatio","preview","background","autoCropArea","zoomOnWheel"]),r[1]||(r[1]=o("div",{class:"preview-wrap"},[o("div",{class:"preview-item"},[o("div",{class:"preview"}),o("div",{class:"preview-label"},"150 x 150")]),o("div",{class:"preview-item"},[o("div",{class:"preview preview-size"}),o("div",{class:"preview-label"},"100 x 100")])],-1))])]),_:1},8,["max-height"])]),_:1},8,["modelValue","width"])}}}),J=y(E,[["__scopeId","data-v-251069fd"]]),T={class:"components"},Z={class:"cropper-img-warp"},q={class:"mb-5"},F=["src"],G=R({name:"ComponentCopper"}),K=Object.assign(G,{setup(e){const i=p(I),c=p(),m=()=>{c.value.openDialog()},s=l=>{i.value=l};return(l,a)=>{const f=W,v=d("el-button"),_=$,g=J;return h(),j("div",T,[n(f,{title:"图片裁剪"},{content:t(()=>a[0]||(a[0]=[o("p",null,"Copper",-1)])),_:1}),n(_,null,{default:t(()=>[o("div",Z,[o("div",q,[o("img",{class:"cropper-img",src:u(i)},null,8,F)]),n(v,{type:"primary",icon:"ele-crop",onClick:m},{default:t(()=>a[1]||(a[1]=[b("更换头像")])),_:1})])]),_:1}),n(g,{ref_key:"cropperRef",ref:c,src:u(i),onOnSubmit:s},null,8,["src"])])}}}),re=y(K,[["__scopeId","data-v-0b4e5285"]]);export{re as default};
