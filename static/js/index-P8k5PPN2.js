import{_ as B}from"./index-BqNn1QRp.js";import{_ as U}from"./index-ncGf53PB.js";import{_ as R}from"./index-m1hp8roE.js";import{af as W,d as N,r as A,e as S,i as E,w as h,a as M,o as w,y as P,j as O,g as L,F as _,k as H}from"./index-H_c7H9_6.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";var I={exports:{}};(function(C,T){(function(f,n){C.exports=n()})(window,function(){return function(b){var f={};function n(i){if(f[i])return f[i].exports;var a=f[i]={i,l:!1,exports:{}};return b[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=b,n.c=f,n.d=function(i,a,r){n.o(i,a)||Object.defineProperty(i,a,{enumerable:!0,get:r})},n.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},n.t=function(i,a){if(a&1&&(i=n(i)),a&8||a&4&&typeof i=="object"&&i&&i.__esModule)return i;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:i}),a&2&&typeof i!="string")for(var y in i)n.d(r,y,(function(d){return i[d]}).bind(null,y));return r},n.n=function(i){var a=i&&i.__esModule?function(){return i.default}:function(){return i};return n.d(a,"a",a),a},n.o=function(i,a){return Object.prototype.hasOwnProperty.call(i,a)},n.p="",n(n.s=0)}({"./src/index.js":function(b,f,n){n.r(f),n("./src/sass/index.scss");var i=n("./src/js/init.js"),a=i.default.init;typeof window<"u"&&(window.printJS=a),f.default=a},"./src/js/browser.js":function(b,f,n){n.r(f);var i={isFirefox:function(){return typeof InstallTrigger<"u"},isIE:function(){return navigator.userAgent.indexOf("MSIE")!==-1||!!document.documentMode},isEdge:function(){return!i.isIE()&&!!window.StyleMedia},isChrome:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return!!r.chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||navigator.userAgent.toLowerCase().indexOf("safari")!==-1},isIOSChrome:function(){return navigator.userAgent.toLowerCase().indexOf("crios")!==-1}};f.default=i},"./src/js/functions.js":function(b,f,n){n.r(f),n.d(f,"addWrapper",function(){return y}),n.d(f,"capitalizePrint",function(){return d}),n.d(f,"collectStyles",function(){return l}),n.d(f,"addHeader",function(){return e}),n.d(f,"cleanUp",function(){return c}),n.d(f,"isRawHTML",function(){return p});var i=n("./src/js/modal.js"),a=n("./src/js/browser.js");function r(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r=function(u){return typeof u}:r=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},r(t)}function y(t,s){var u="font-family:"+s.font+" !important; font-size: "+s.font_size+" !important; width:100%;";return'<div style="'+u+'">'+t+"</div>"}function d(t){return t.charAt(0).toUpperCase()+t.slice(1)}function l(t,s){for(var u=document.defaultView||window,g="",m=u.getComputedStyle(t,""),v=0;v<m.length;v++)(s.targetStyles.indexOf("*")!==-1||s.targetStyle.indexOf(m[v])!==-1||o(s.targetStyles,m[v]))&&m.getPropertyValue(m[v])&&(g+=m[v]+":"+m.getPropertyValue(m[v])+";");return g+="max-width: "+s.maxWidth+"px !important; font-size: "+s.font_size+" !important;",g}function o(t,s){for(var u=0;u<t.length;u++)if(r(s)==="object"&&s.indexOf(t[u])!==-1)return!0;return!1}function e(t,s){var u=document.createElement("div");if(p(s.header))u.innerHTML=s.header;else{var g=document.createElement("h1"),m=document.createTextNode(s.header);g.appendChild(m),g.setAttribute("style",s.headerStyle),u.appendChild(g)}t.insertBefore(u,t.childNodes[0])}function c(t){t.showModal&&i.default.close(),t.onLoadingEnd&&t.onLoadingEnd(),(t.showModal||t.onLoadingStart)&&window.URL.revokeObjectURL(t.printable);var s="mouseover";(a.default.isChrome()||a.default.isFirefox())&&(s="focus");var u=function g(){window.removeEventListener(s,g),t.onPrintDialogClose();var m=document.getElementById(t.frameId);m&&m.remove()};window.addEventListener(s,u)}function p(t){var s=new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>");return s.test(t)}},"./src/js/html.js":function(b,f,n){n.r(f);var i=n("./src/js/functions.js"),a=n("./src/js/print.js");function r(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r=function(e){return typeof e}:r=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(l)}f.default={print:function(o,e){var c=d(o.printable)?o.printable:document.getElementById(o.printable);if(!c){window.console.error("Invalid HTML element id: "+o.printable);return}o.printableElement=y(c,o),o.header&&Object(i.addHeader)(o.printableElement,o),a.default.send(o,e)}};function y(l,o){for(var e=l.cloneNode(),c=Array.prototype.slice.call(l.childNodes),p=0;p<c.length;p++)if(o.ignoreElements.indexOf(c[p].id)===-1){var t=y(c[p],o);e.appendChild(t)}switch(o.scanStyles&&l.nodeType===1&&e.setAttribute("style",Object(i.collectStyles)(l,o)),l.tagName){case"SELECT":e.value=l.value;break;case"CANVAS":e.getContext("2d").drawImage(l,0,0);break}return e}function d(l){return r(l)==="object"&&l&&(l instanceof HTMLElement||l.nodeType===1)}},"./src/js/image.js":function(b,f,n){n.r(f);var i=n("./src/js/functions.js"),a=n("./src/js/print.js"),r=n("./src/js/browser.js");f.default={print:function(d,l){d.printable.constructor!==Array&&(d.printable=[d.printable]),d.printableElement=document.createElement("div"),d.printable.forEach(function(o){var e=document.createElement("img");if(e.setAttribute("style",d.imageStyle),e.src=o,r.default.isFirefox()){var c=e.src;e.src=c}var p=document.createElement("div");p.appendChild(e),d.printableElement.appendChild(p)}),d.header&&Object(i.addHeader)(d.printableElement,d),a.default.send(d,l)}}},"./src/js/init.js":function(b,f,n){n.r(f);var i=n("./src/js/browser.js"),a=n("./src/js/modal.js"),r=n("./src/js/pdf.js"),y=n("./src/js/html.js"),d=n("./src/js/raw-html.js"),l=n("./src/js/image.js"),o=n("./src/js/json.js");function e(p){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(s){return typeof s}:e=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e(p)}var c=["pdf","html","image","json","raw-html"];f.default={init:function(){var t={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(D){throw D},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},s=arguments[0];if(s===void 0)throw new Error("printJS expects at least 1 attribute.");switch(e(s)){case"string":t.printable=encodeURI(s),t.fallbackPrintable=t.printable,t.type=arguments[1]||t.type;break;case"object":t.printable=s.printable,t.fallbackPrintable=typeof s.fallbackPrintable<"u"?s.fallbackPrintable:t.printable,t.fallbackPrintable=t.base64?"data:application/pdf;base64,".concat(t.fallbackPrintable):t.fallbackPrintable;for(var u in t)u==="printable"||u==="fallbackPrintable"||(t[u]=typeof s[u]<"u"?s[u]:t[u]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+e(s))}if(!t.printable)throw new Error("Missing printable information.");if(!t.type||typeof t.type!="string"||c.indexOf(t.type.toLowerCase())===-1)throw new Error("Invalid print type. Available types are: pdf, html, image and json.");t.showModal&&a.default.show(t),t.onLoadingStart&&t.onLoadingStart();var g=document.getElementById(t.frameId);g&&g.parentNode.removeChild(g);var m=document.createElement("iframe");switch(i.default.isFirefox()?m.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):m.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),m.setAttribute("id",t.frameId),t.type!=="pdf"&&(m.srcdoc="<html><head><title>"+t.documentTitle+"</title>",t.css&&(Array.isArray(t.css)||(t.css=[t.css]),t.css.forEach(function(j){m.srcdoc+='<link rel="stylesheet" href="'+j+'">'})),m.srcdoc+="</head><body></body></html>"),t.type){case"pdf":if(i.default.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer.");var v=window.open(t.fallbackPrintable,"_blank");v.focus(),t.onIncompatibleBrowser()}catch(j){t.onError(j)}finally{t.showModal&&a.default.close(),t.onLoadingEnd&&t.onLoadingEnd()}else r.default.print(t,m);break;case"image":l.default.print(t,m);break;case"html":y.default.print(t,m);break;case"raw-html":d.default.print(t,m);break;case"json":o.default.print(t,m);break}}}},"./src/js/json.js":function(b,f,n){n.r(f);var i=n("./src/js/functions.js"),a=n("./src/js/print.js");function r(d){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r=function(o){return typeof o}:r=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},r(d)}f.default={print:function(l,o){if(r(l.printable)!=="object")throw new Error("Invalid javascript data object (JSON).");if(typeof l.repeatTableHeader!="boolean")throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!l.properties||!Array.isArray(l.properties))throw new Error("Invalid properties array for your JSON data.");l.properties=l.properties.map(function(e){return{field:r(e)==="object"?e.field:e,displayName:r(e)==="object"?e.displayName:e,columnSize:r(e)==="object"&&e.columnSize?e.columnSize+";":100/l.properties.length+"%;"}}),l.printableElement=document.createElement("div"),l.header&&Object(i.addHeader)(l.printableElement,l),l.printableElement.innerHTML+=y(l),a.default.send(l,o)}};function y(d){var l=d.printable,o=d.properties,e='<table style="border-collapse: collapse; width: 100%;">';d.repeatTableHeader&&(e+="<thead>"),e+="<tr>";for(var c=0;c<o.length;c++)e+='<th style="width:'+o[c].columnSize+";"+d.gridHeaderStyle+'">'+Object(i.capitalizePrint)(o[c].displayName)+"</th>";e+="</tr>",d.repeatTableHeader&&(e+="</thead>"),e+="<tbody>";for(var p=0;p<l.length;p++){e+="<tr>";for(var t=0;t<o.length;t++){var s=l[p],u=o[t].field.split(".");if(u.length>1)for(var g=0;g<u.length;g++)s=s[u[g]];else s=s[o[t].field];e+='<td style="width:'+o[t].columnSize+d.gridStyle+'">'+s+"</td>"}e+="</tr>"}return e+="</tbody></table>",e}},"./src/js/modal.js":function(b,f,n){n.r(f);var i={show:function(r){var y="font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;",d=document.createElement("div");d.setAttribute("style",y),d.setAttribute("id","printJS-Modal");var l=document.createElement("div");l.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var o=document.createElement("div");o.setAttribute("class","printClose"),o.setAttribute("id","printClose"),l.appendChild(o);var e=document.createElement("span");e.setAttribute("class","printSpinner"),l.appendChild(e);var c=document.createTextNode(r.modalMessage);l.appendChild(c),d.appendChild(l),document.getElementsByTagName("body")[0].appendChild(d),document.getElementById("printClose").addEventListener("click",function(){i.close()})},close:function(){var r=document.getElementById("printJS-Modal");r&&r.parentNode.removeChild(r)}};f.default=i},"./src/js/pdf.js":function(b,f,n){n.r(f);var i=n("./src/js/print.js"),a=n("./src/js/functions.js");f.default={print:function(d,l){if(d.base64){var o=Uint8Array.from(atob(d.printable),function(c){return c.charCodeAt(0)});r(d,l,o);return}d.printable=/^(blob|http|\/\/)/i.test(d.printable)?d.printable:window.location.origin+(d.printable.charAt(0)!=="/"?"/"+d.printable:d.printable);var e=new window.XMLHttpRequest;e.responseType="arraybuffer",e.addEventListener("error",function(){Object(a.cleanUp)(d),d.onError(e.statusText,e)}),e.addEventListener("load",function(){if([200,201].indexOf(e.status)===-1){Object(a.cleanUp)(d),d.onError(e.statusText,e);return}r(d,l,e.response)}),e.open("GET",d.printable,!0),e.send()}};function r(y,d,l){var o=new window.Blob([l],{type:"application/pdf"});o=window.URL.createObjectURL(o),d.setAttribute("src",o),i.default.send(y,d)}},"./src/js/print.js":function(b,f,n){n.r(f);var i=n("./src/js/browser.js"),a=n("./src/js/functions.js"),r={send:function(e,c){document.getElementsByTagName("body")[0].appendChild(c);var p=document.getElementById(e.frameId);p.onload=function(){if(e.type==="pdf"){i.default.isFirefox()?setTimeout(function(){return y(p,e)},1e3):y(p,e);return}var t=p.contentWindow||p.contentDocument;if(t.document&&(t=t.document),t.body.appendChild(e.printableElement),e.type!=="pdf"&&e.style){var s=document.createElement("style");s.innerHTML=e.style,t.head.appendChild(s)}var u=t.getElementsByTagName("img");u.length>0?d(Array.from(u)).then(function(){return y(p,e)}):y(p,e)}}};function y(o,e){try{if(o.focus(),i.default.isEdge()||i.default.isIE())try{o.contentWindow.document.execCommand("print",!1,null)}catch{o.contentWindow.print()}else o.contentWindow.print()}catch(c){e.onError(c)}finally{i.default.isFirefox()&&(o.style.visibility="hidden",o.style.left="-1px"),Object(a.cleanUp)(e)}}function d(o){var e=o.map(function(c){if(c.src&&c.src!==window.location.href)return l(c)});return Promise.all(e)}function l(o){return new Promise(function(e){var c=function p(){!o||typeof o.naturalWidth>"u"||o.naturalWidth===0||!o.complete?setTimeout(p,500):e()};c()})}f.default=r},"./src/js/raw-html.js":function(b,f,n){n.r(f);var i=n("./src/js/print.js");f.default={print:function(r,y){r.printableElement=document.createElement("div"),r.printableElement.setAttribute("style","width:100%"),r.printableElement.innerHTML=r.printable,i.default.send(r,y)}}},"./src/sass/index.scss":function(b,f,n){},0:function(b,f,n){b.exports=n("./src/index.js")}}).default})})(I);var K=I.exports;const x=W(K),z={class:"mb-2.5"},F=["src"],J=N({name:"PluginPrint"}),Q=Object.assign(J,{setup(C){const T=()=>{window.open("https://github.com/crabbly/Print.js","_blank")},b=A([{date:"2016-05-03",name:"Tom",address:"No. 189, Grove St, Los Angeles"},{date:"2016-05-02",name:"Tom",address:"No. 189, Grove St, Los Angeles"},{date:"2016-05-04",name:"Tom",address:"No. 189, Grove St, Los Angeles"}]),f=()=>{x({printable:b.value,properties:["date","name","address"],type:"json"})},n=A(["https://img2.baidu.com/it/u=3851318936,3356716855&fm=253&fmt=auto&app=138&f=PNG?w=500&h=582","https://img2.baidu.com/it/u=3851318936,3356716855&fm=253&fmt=auto&app=138&f=PNG?w=500&h=582"]),i=()=>{x({printable:n.value,type:"image",header:"Multiple Images",imageStyle:"width:50%;margin-bottom:20px;"})};return(a,r)=>{const y=M("el-tag"),d=R,l=M("el-button"),o=U,e=M("el-table-column"),c=M("el-table"),p=B;return w(),S("div",null,[E(o,{title:"打印"},{content:h(()=>[O("p",z,[r[1]||(r[1]=P("安装命令：")),E(y,null,{default:h(()=>r[0]||(r[0]=[P("pnpm i print-js")])),_:1})]),r[2]||(r[2]=O("p",null,"还可以打印页面及PDF文件等，详情参考官网",-1))]),default:h(()=>[E(l,{type:"primary",onClick:T},{icon:h(()=>[E(d,{name:"ele-link"})]),default:h(()=>[r[3]||(r[3]=P(" 访问 Print.js "))]),_:1})]),_:1}),E(p,{title:"打印 JSON"},{default:h(()=>[E(l,{icon:"ele-printer",type:"primary",class:"mb-2.5",onClick:f},{default:h(()=>r[4]||(r[4]=[P("打印")])),_:1}),E(c,{data:L(b),border:!0},{default:h(()=>[E(e,{prop:"date",label:"Date",width:"180"}),E(e,{prop:"name",label:"Name",width:"180"}),E(e,{prop:"address",label:"Address"})]),_:1},8,["data"])]),_:1}),E(p,{title:"打印图片"},{default:h(()=>[E(l,{icon:"ele-printer",type:"primary",class:"mb-2.5",onClick:i},{default:h(()=>r[5]||(r[5]=[P("打印")])),_:1}),r[6]||(r[6]=O("br",null,null,-1)),(w(!0),S(_,null,H(L(n),t=>(w(),S("img",{key:t,class:"w-60 mr-5 inline-block",src:t},null,8,F))),128))]),_:1})])}}});export{Q as default};
