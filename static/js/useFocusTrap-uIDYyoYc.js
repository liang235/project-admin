import{_ as Fe}from"./index-BqNn1QRp.js";import{_ as Ee}from"./index-ncGf53PB.js";import{r as z,c as Se,ap as oe,aq as ke,ar as Ae,H as De,as as Re,e as Ie,i as P,w as B,a as se,o as Ce,j as W,g as Y,y as le,t as Oe}from"./index-H_c7H9_6.js";import"./index-m1hp8roE.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var pe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],K=pe.join(","),he=typeof Element>"u",D=he?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,M=!he&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},V=function n(e,t){var r;t===void 0&&(t=!0);var o=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=o===""||o==="true",a=s||t&&e&&n(e.parentNode);return a},Pe=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},me=function(e,t,r){if(V(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(K));return t&&D.call(e,K)&&o.unshift(e),o=o.filter(r),o},ye=function n(e,t,r){for(var o=[],s=Array.from(e);s.length;){var a=s.shift();if(!V(a,!1))if(a.tagName==="SLOT"){var d=a.assignedElements(),c=d.length?d:a.children,m=n(c,!0,r);r.flatten?o.push.apply(o,m):o.push({scopeParent:a,candidates:m})}else{var N=D.call(a,K);N&&r.filter(a)&&(t||!e.includes(a))&&o.push(a);var g=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),w=!V(g,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(g&&w){var S=n(g===!0?a.children:g.children,!0,r);r.flatten?o.push.apply(o,S):o.push({scopeParent:a,candidates:S})}else s.unshift.apply(s,a.children)}}return o},ge=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},A=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Pe(e))&&!ge(e)?0:e.tabIndex},_e=function(e,t){var r=A(e);return r<0&&t&&!ge(e)?0:r},xe=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},we=function(e){return e.tagName==="INPUT"},Le=function(e){return we(e)&&e.type==="hidden"},Be=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},je=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},Ke=function(e){if(!e.name)return!0;var t=e.form||M(e),r=function(d){return t.querySelectorAll('input[type="radio"][name="'+d+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(e.name));else try{o=r(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var s=je(o,e.form);return!s||s===e},Me=function(e){return we(e)&&e.type==="radio"},Ve=function(e){return Me(e)&&!Ke(e)},Ge=function(e){var t,r=e&&M(e),o=(t=r)===null||t===void 0?void 0:t.host,s=!1;if(r&&r!==e){var a,d,c;for(s=!!((a=o)!==null&&a!==void 0&&(d=a.ownerDocument)!==null&&d!==void 0&&d.contains(o)||e!=null&&(c=e.ownerDocument)!==null&&c!==void 0&&c.contains(e));!s&&o;){var m,N,g;r=M(o),o=(m=r)===null||m===void 0?void 0:m.host,s=!!((N=o)!==null&&N!==void 0&&(g=N.ownerDocument)!==null&&g!==void 0&&g.contains(o))}}return s},ce=function(e){var t=e.getBoundingClientRect(),r=t.width,o=t.height;return r===0&&o===0},qe=function(e,t){var r=t.displayCheck,o=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=D.call(e,"details>summary:first-of-type"),a=s?e.parentElement:e;if(D.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var d=e;e;){var c=e.parentElement,m=M(e);if(c&&!c.shadowRoot&&o(c)===!0)return ce(e);e.assignedSlot?e=e.assignedSlot:!c&&m!==e.ownerDocument?e=m.host:e=c}e=d}if(Ge(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return ce(e);return!1},$e=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var o=t.children.item(r);if(o.tagName==="LEGEND")return D.call(t,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}t=t.parentElement}return!1},G=function(e,t){return!(t.disabled||V(t)||Le(t)||qe(t,e)||Be(t)||$e(t))},H=function(e,t){return!(Ve(t)||A(t)<0||!G(e,t))},Ue=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},We=function n(e){var t=[],r=[];return e.forEach(function(o,s){var a=!!o.scopeParent,d=a?o.scopeParent:o,c=_e(d,a),m=a?n(o.candidates):d;c===0?a?t.push.apply(t,m):t.push(d):r.push({documentOrder:s,tabIndex:c,item:o,isScope:a,content:m})}),r.sort(xe).reduce(function(o,s){return s.isScope?o.push.apply(o,s.content):o.push(s.content),o},[]).concat(t)},Ye=function(e,t){t=t||{};var r;return t.getShadowRoot?r=ye([e],t.includeContainer,{filter:H.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Ue}):r=me(e,t.includeContainer,H.bind(null,t)),We(r)},Ze=function(e,t){t=t||{};var r;return t.getShadowRoot?r=ye([e],t.includeContainer,{filter:G.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):r=me(e,t.includeContainer,G.bind(null,t)),r},R=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return D.call(e,K)===!1?!1:H(t,e)},ze=pe.concat("iframe").join(","),Z=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return D.call(e,ze)===!1?!1:G(t,e)};/*!
* focus-trap 7.6.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function X(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function He(n){if(Array.isArray(n))return X(n)}function Xe(n,e,t){return(e=at(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Je(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Qe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function de(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fe(Object(t),!0).forEach(function(r){Xe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fe(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function et(n){return He(n)||Je(n)||rt(n)||Qe()}function tt(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function at(n){var e=tt(n,"string");return typeof e=="symbol"?e:e+""}function rt(n,e){if(n){if(typeof n=="string")return X(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?X(n,e):void 0}}var ve={activateTrap:function(e,t){if(e.length>0){var r=e[e.length-1];r!==t&&r._setPausedState(!0)}var o=e.indexOf(t);o===-1||e.splice(o,1),e.push(t)},deactivateTrap:function(e,t){var r=e.indexOf(t);r!==-1&&e.splice(r,1),e.length>0&&!e[e.length-1]._isManuallyPaused()&&e[e.length-1]._setPausedState(!1)}},nt=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},it=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},x=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},ut=function(e){return x(e)&&!e.shiftKey},ot=function(e){return x(e)&&e.shiftKey},be=function(e){return setTimeout(e,0)},_=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return typeof e=="function"?e.apply(void 0,r):e},j=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},st=[],lt=function(e,t){var r=(t==null?void 0:t.document)||document,o=(t==null?void 0:t.trapStack)||st,s=de({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:ut,isKeyBackward:ot},t),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},d,c=function(i,u,l){return i&&i[u]!==void 0?i[u]:s[l||u]},m=function(i,u){var l=typeof(u==null?void 0:u.composedPath)=="function"?u.composedPath():void 0;return a.containerGroups.findIndex(function(v){var b=v.container,h=v.tabbableNodes;return b.contains(i)||(l==null?void 0:l.includes(b))||h.find(function(f){return f===i})})},N=function(i){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=u.hasFallback,v=l===void 0?!1:l,b=u.params,h=b===void 0?[]:b,f=s[i];if(typeof f=="function"&&(f=f.apply(void 0,et(h))),f===!0&&(f=void 0),!f){if(f===void 0||f===!1)return f;throw new Error("`".concat(i,"` was specified but was not a node, or did not return a node"))}var y=f;if(typeof f=="string"){try{y=r.querySelector(f)}catch(T){throw new Error("`".concat(i,'` appears to be an invalid selector; error="').concat(T.message,'"'))}if(!y&&!v)throw new Error("`".concat(i,"` as selector refers to no known node"))}return y},g=function(){var i=N("initialFocus",{hasFallback:!0});if(i===!1)return!1;if(i===void 0||i&&!Z(i,s.tabbableOptions))if(m(r.activeElement)>=0)i=r.activeElement;else{var u=a.tabbableGroups[0],l=u&&u.firstTabbableNode;i=l||N("fallbackFocus")}else i===null&&(i=N("fallbackFocus"));if(!i)throw new Error("Your focus-trap needs to have at least one focusable element");return i},w=function(){if(a.containerGroups=a.containers.map(function(i){var u=Ye(i,s.tabbableOptions),l=Ze(i,s.tabbableOptions),v=u.length>0?u[0]:void 0,b=u.length>0?u[u.length-1]:void 0,h=l.find(function(T){return R(T)}),f=l.slice().reverse().find(function(T){return R(T)}),y=!!u.find(function(T){return A(T)>0});return{container:i,tabbableNodes:u,focusableNodes:l,posTabIndexesFound:y,firstTabbableNode:v,lastTabbableNode:b,firstDomTabbableNode:h,lastDomTabbableNode:f,nextTabbableNode:function(k){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,E=u.indexOf(k);return E<0?C?l.slice(l.indexOf(k)+1).find(function(O){return R(O)}):l.slice(0,l.indexOf(k)).reverse().find(function(O){return R(O)}):u[E+(C?1:-1)]}}}),a.tabbableGroups=a.containerGroups.filter(function(i){return i.tabbableNodes.length>0}),a.tabbableGroups.length<=0&&!N("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find(function(i){return i.posTabIndexesFound})&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},S=function(i){var u=i.activeElement;if(u)return u.shadowRoot&&u.shadowRoot.activeElement!==null?S(u.shadowRoot):u},F=function(i){if(i!==!1&&i!==S(document)){if(!i||!i.focus){F(g());return}i.focus({preventScroll:!!s.preventScroll}),a.mostRecentlyFocusedNode=i,nt(i)&&i.select()}},J=function(i){var u=N("setReturnFocus",{params:[i]});return u||(u===!1?!1:i)},Q=function(i){var u=i.target,l=i.event,v=i.isBackward,b=v===void 0?!1:v;u=u||j(l),w();var h=null;if(a.tabbableGroups.length>0){var f=m(u,l),y=f>=0?a.containerGroups[f]:void 0;if(f<0)b?h=a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:h=a.tabbableGroups[0].firstTabbableNode;else if(b){var T=a.tabbableGroups.findIndex(function($){var U=$.firstTabbableNode;return u===U});if(T<0&&(y.container===u||Z(u,s.tabbableOptions)&&!R(u,s.tabbableOptions)&&!y.nextTabbableNode(u,!1))&&(T=f),T>=0){var k=T===0?a.tabbableGroups.length-1:T-1,C=a.tabbableGroups[k];h=A(u)>=0?C.lastTabbableNode:C.lastDomTabbableNode}else x(l)||(h=y.nextTabbableNode(u,!1))}else{var E=a.tabbableGroups.findIndex(function($){var U=$.lastTabbableNode;return u===U});if(E<0&&(y.container===u||Z(u,s.tabbableOptions)&&!R(u,s.tabbableOptions)&&!y.nextTabbableNode(u))&&(E=f),E>=0){var O=E===a.tabbableGroups.length-1?0:E+1,ue=a.tabbableGroups[O];h=A(u)>=0?ue.firstTabbableNode:ue.firstDomTabbableNode}else x(l)||(h=y.nextTabbableNode(u))}}else h=N("fallbackFocus");return h},L=function(i){var u=j(i);if(!(m(u,i)>=0)){if(_(s.clickOutsideDeactivates,i)){d.deactivate({returnFocus:s.returnFocusOnDeactivate});return}_(s.allowOutsideClick,i)||i.preventDefault()}},ee=function(i){var u=j(i),l=m(u,i)>=0;if(l||u instanceof Document)l&&(a.mostRecentlyFocusedNode=u);else{i.stopImmediatePropagation();var v,b=!0;if(a.mostRecentlyFocusedNode)if(A(a.mostRecentlyFocusedNode)>0){var h=m(a.mostRecentlyFocusedNode),f=a.containerGroups[h].tabbableNodes;if(f.length>0){var y=f.findIndex(function(T){return T===a.mostRecentlyFocusedNode});y>=0&&(s.isKeyForward(a.recentNavEvent)?y+1<f.length&&(v=f[y+1],b=!1):y-1>=0&&(v=f[y-1],b=!1))}}else a.containerGroups.some(function(T){return T.tabbableNodes.some(function(k){return A(k)>0})})||(b=!1);else b=!1;b&&(v=Q({target:a.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(a.recentNavEvent)})),F(v||a.mostRecentlyFocusedNode||g())}a.recentNavEvent=void 0},Te=function(i){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;a.recentNavEvent=i;var l=Q({event:i,isBackward:u});l&&(x(i)&&i.preventDefault(),F(l))},te=function(i){(s.isKeyForward(i)||s.isKeyBackward(i))&&Te(i,s.isKeyBackward(i))},ae=function(i){it(i)&&_(s.escapeDeactivates,i)!==!1&&(i.preventDefault(),d.deactivate())},re=function(i){var u=j(i);m(u,i)>=0||_(s.clickOutsideDeactivates,i)||_(s.allowOutsideClick,i)||(i.preventDefault(),i.stopImmediatePropagation())},ne=function(){if(a.active)return ve.activateTrap(o,d),a.delayInitialFocusTimer=s.delayInitialFocus?be(function(){F(g())}):F(g()),r.addEventListener("focusin",ee,!0),r.addEventListener("mousedown",L,{capture:!0,passive:!1}),r.addEventListener("touchstart",L,{capture:!0,passive:!1}),r.addEventListener("click",re,{capture:!0,passive:!1}),r.addEventListener("keydown",te,{capture:!0,passive:!1}),r.addEventListener("keydown",ae),d},ie=function(){if(a.active)return r.removeEventListener("focusin",ee,!0),r.removeEventListener("mousedown",L,!0),r.removeEventListener("touchstart",L,!0),r.removeEventListener("click",re,!0),r.removeEventListener("keydown",te,!0),r.removeEventListener("keydown",ae),d},Ne=function(i){var u=i.some(function(l){var v=Array.from(l.removedNodes);return v.some(function(b){return b===a.mostRecentlyFocusedNode})});u&&F(g())},q=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(Ne):void 0,I=function(){q&&(q.disconnect(),a.active&&!a.paused&&a.containers.map(function(i){q.observe(i,{subtree:!0,childList:!0})}))};return d={get active(){return a.active},get paused(){return a.paused},activate:function(i){if(a.active)return this;var u=c(i,"onActivate"),l=c(i,"onPostActivate"),v=c(i,"checkCanFocusTrap");v||w(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=r.activeElement,u==null||u();var b=function(){v&&w(),ne(),I(),l==null||l()};return v?(v(a.containers.concat()).then(b,b),this):(b(),this)},deactivate:function(i){if(!a.active)return this;var u=de({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},i);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,ie(),a.active=!1,a.paused=!1,I(),ve.deactivateTrap(o,d);var l=c(u,"onDeactivate"),v=c(u,"onPostDeactivate"),b=c(u,"checkCanReturnFocus"),h=c(u,"returnFocus","returnFocusOnDeactivate");l==null||l();var f=function(){be(function(){h&&F(J(a.nodeFocusedBeforeActivation)),v==null||v()})};return h&&b?(b(J(a.nodeFocusedBeforeActivation)).then(f,f),this):(f(),this)},pause:function(i){return a.active?(a.manuallyPaused=!0,this._setPausedState(!0,i)):this},unpause:function(i){return a.active?(a.manuallyPaused=!1,o[o.length-1]!==this?this:this._setPausedState(!1,i)):this},updateContainerElements:function(i){var u=[].concat(i).filter(Boolean);return a.containers=u.map(function(l){return typeof l=="string"?r.querySelector(l):l}),a.active&&w(),I(),this}},Object.defineProperties(d,{_isManuallyPaused:{value:function(){return a.manuallyPaused}},_setPausedState:{value:function(i,u){if(a.paused===i)return this;if(a.paused=i,i){var l=c(u,"onPause"),v=c(u,"onPostPause");l==null||l(),ie(),I(),v==null||v()}else{var b=c(u,"onUnpause"),h=c(u,"onPostUnpause");b==null||b(),w(),ne(),I(),h==null||h()}return this}}}),d.updateContainerElements(e),d};function ct(n,e={}){let t;const{immediate:r,...o}=e,s=z(!1),a=z(!1),d=w=>t&&t.activate(w),c=w=>t&&t.deactivate(w),m=()=>{t&&(t.pause(),a.value=!0)},N=()=>{t&&(t.unpause(),a.value=!1)},g=Se(()=>{const w=oe(n);return(Array.isArray(w)?w:[w]).map(S=>{const F=oe(S);return typeof F=="string"?F:ke(F)}).filter(Ae)});return De(g,w=>{w.length&&(t=lt(w,{...o,onActivate(){s.value=!0,e.onActivate&&e.onActivate()},onDeactivate(){s.value=!1,e.onDeactivate&&e.onDeactivate()}}),r&&d())},{flush:"post"}),Re(()=>c()),{hasFocus:s,isPaused:a,activate:d,deactivate:c,pause:m,unpause:N}}const ft={class:"useFocusTrap"},mt={__name:"useFocusTrap",setup(n){const e=z(),{hasFocus:t,activate:r,deactivate:o}=ct(e,{immediate:!0});return(s,a)=>{const d=Ee,c=se("el-button"),m=se("el-input"),N=Fe;return Ce(),Ie("div",ft,[P(d,{title:"欢迎使用 useFocusTrap"},{content:B(()=>a[2]||(a[2]=[W("p",null,null,-1)])),_:1}),P(N,{title:"获取焦点"},{default:B(()=>[P(c,{onClick:a[0]||(a[0]=g=>Y(r)())},{default:B(()=>a[3]||(a[3]=[le("激活")])),_:1}),W("div",{ref_key:"target",ref:e},[W("span",null,"是否获取焦点: "+Oe(Y(t)),1),P(m,{type:"text"}),P(c,{onClick:a[1]||(a[1]=g=>Y(o)())},{default:B(()=>a[4]||(a[4]=[le("禁用")])),_:1})],512)]),_:1})])}}};export{mt as default};
